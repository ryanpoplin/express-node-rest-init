"use strict";process.env.NODE_ENV=process.env.NODE_ENV||"development";var config=require("./config/config"),mongoose=require("./config/mongoose"),express=require("./config/express"),db=mongoose(),app=express();app.listen(config.port),console.log("Server is running at http://localhost:"+config.port),exports.render=function(e,o){o.render("index",{title:"Express.js"})};var User=require("../models/user.server.model");exports.create=function(e,o,r){console.log(e.body);var s=new User(e.body);s.save(function(e){return e?r(e):void o.json(s)})};var mongoose=require("mongoose"),Schema=mongoose.Schema,UserSchema=new Schema({name:String,email:String,username:String,password:String});module.exports=mongoose.model("User",UserSchema),module.exports=function(e){var o=require("../controllers/index.server.controller");e.get("/",o.render)};var users=require("../../app/controllers/users.server.controller");module.exports=function(e){e.route("/users").post(users.create)},module.exports=require("./env/"+process.env.NODE_ENV+".js");var express=require("express"),config=require("./config"),bodyParser=require("body-parser");module.exports=function(){var e=express();return e.use(bodyParser.urlencoded({extended:!0})),e.use(bodyParser.json()),e.use(function(e,o,r){o.setHeader("Access-Control-Allow-Origin","*"),o.setHeader("Access-Control-Allow-Methods","GET, POST"),o.setHeader("Access-Control-Allow-Headers","X-Requested-With, content-type, Authorization"),r()}),e.use(express["static"]("./public")),e.set("views","./app/views"),e.set("view engine","ejs"),require("../app/routes/index.server.routes")(e),require("../app/routes/users.server.routes")(e),e};var config=require("./config"),mongoose=require("mongoose");module.exports=function(){return mongoose.connect(config.db)},module.exports={port:8080,db:"mongodb://localhost/todos"};